from django.shortcuts import render
from django.http import HttpResponse
from polls.models import Components
import datetime
from django.views.generic import ListView, DetailView
from polls.models import Component_type
from polls.models import Components
from polls.models import Project
 
def dictionary(request):
    errors = []
    form = {}
    if request.POST:
        form['name'] = request.POST.get('title')
        form['type_c'] = request.POST.get('type_c')
        if not form['title']:
            errors.append('error name')
        if not errors:
           
            model = Components(name=form['name'],type_c=form['type_c'])
            model.save()
       
        return render(request, 'good.html', {'errors': errors, 'form':form})
    return render(request, 'components.html', {'errors': errors, 'form':form})

class DictionaryListView(ListView):
	model = Components
	model1 = Component_type
	
class ProjectsListView(ListView):
	model = Project

